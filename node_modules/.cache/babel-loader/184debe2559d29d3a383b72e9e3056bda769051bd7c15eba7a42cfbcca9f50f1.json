{"ast":null,"code":"import React,{useState,useEffect,useRef}from\"react\";import{Box,Typography,Card,CardContent,CardMedia,Table,TableHead,TableRow,TableCell,TableBody,Paper}from\"@mui/material\";import{API_URL}from\"../../services/api\";// Ajusta tu import\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function HikvisionEvents(){const[sseStatus,setSseStatus]=useState(\"Conectando SSE...\");const[latestEvent,setLatestEvent]=useState(null);// Evento actual en la tarjeta\nconst[historyEvents,setHistoryEvents]=useState([]);// Array de eventos (máx 30)\n// Referencia para almacenar un posible timeout (si llega otro evento antes de 1s)\nconst timeoutRef=useRef(null);useEffect(()=>{const es=new EventSource(`${API_URL}/hikvision/events`);es.onopen=()=>{setSseStatus(\"Conexión SSE establecida\");};es.onerror=err=>{console.error(\"Error SSE:\",err);setSseStatus(\"Error SSE (ver consola)\");};es.onmessage=e=>{try{const parsed=JSON.parse(e.data);if(parsed.error){console.error(\"Error SSE:\",parsed);setSseStatus(`Error SSE: ${parsed.detail||\"\"}`);return;}if(parsed.info){setSseStatus(parsed.info);return;}if(parsed.chunk){const eventObj=extraerJsonDelChunk(parsed.chunk);if(!eventObj)return;const alert=eventObj.EventNotificationAlert;const ace=alert===null||alert===void 0?void 0:alert.AccessControllerEvent;if(!ace)return;const empNo=ace.employeeNo||\"N/A\";if(empNo===\"N/A\")return;// ignorar\n// Cancelar timeout anterior, si existía\nif(timeoutRef.current){clearTimeout(timeoutRef.current);}// Asignar este evento a la tarjeta\nsetLatestEvent(eventObj);// Después de 1 segundo, moverlo al historial\ntimeoutRef.current=setTimeout(()=>{setHistoryEvents(prev=>{const newArr=[eventObj,...prev];// Limitar a 30\nif(newArr.length>30)newArr.pop();return newArr;});setLatestEvent(null);// limpiar la tarjeta\n},1000);}}catch(ex){console.warn(\"No se pudo parsear SSE data:\",ex);}};return()=>{es.close();if(timeoutRef.current){clearTimeout(timeoutRef.current);}};},[]);function extraerJsonDelChunk(chunkStr){const sep=\"\\r\\n\\r\\n\";const idx=chunkStr.indexOf(sep);if(idx===-1)return null;let rawJson=chunkStr.substring(idx+sep.length).trim();rawJson=rawJson.replace(/\\r?\\n$/,\"\");try{return JSON.parse(rawJson);}catch{return null;}}// Función para formatear la fecha/hora: \"dd/mm/yyyy\" y \"hh:mm:ss\"\nfunction formatearFechaHora(isoString){if(!isoString)return{fecha:\"(sin fecha)\",hora:\"\"};const dateObj=new Date(isoString);const fecha=dateObj.toLocaleDateString(\"es-MX\",{day:\"2-digit\",month:\"2-digit\",year:\"numeric\"});const hora=dateObj.toLocaleTimeString(\"es-MX\",{hour:\"2-digit\",minute:\"2-digit\",second:\"2-digit\"});return{fecha,hora};}return/*#__PURE__*/_jsxs(Box,{sx:{p:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",color:\"primary\",gutterBottom:true,children:\"Eventos Hikvision\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",sx:{mb:2},children:[\"Estado SSE: \",sseStatus]}),/*#__PURE__*/_jsx(Box,{sx:{display:\"flex\",justifyContent:\"center\",mb:4},children:/*#__PURE__*/_jsx(Card,{sx:{width:600},children:latestEvent?/*#__PURE__*/_jsx(TarjetaEvento,{evento:latestEvent,formatearFechaHora:formatearFechaHora}):/*#__PURE__*/_jsx(CardContent,{sx:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\",height:150},children:/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"text.secondary\",children:\"No hay evento en curso\"})})})}),historyEvents.length>0&&/*#__PURE__*/_jsxs(Paper,{sx:{p:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,children:\"Historial de Eventos (m\\xE1x 30)\"}),/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Fecha\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Hora\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Empleado\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Puerta\"}),/*#__PURE__*/_jsx(TableCell,{children:\"M\\xE1scara\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Foto\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:historyEvents.map((evt,idx)=>{const alert=evt.EventNotificationAlert;const ace=alert.AccessControllerEvent;const{fecha,hora}=formatearFechaHora(alert.dateTime);const empNo=ace.employeeNo;const doorNo=ace.doorNo||\"?\";const mask=ace.mask||\"desconocido\";const pictureURL=ace.pictureURL?`${API_URL}/hikvision/pic-proxy?path=${encodeURIComponent(ace.pictureURL)}`:null;return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:fecha}),/*#__PURE__*/_jsx(TableCell,{children:hora}),/*#__PURE__*/_jsx(TableCell,{children:empNo}),/*#__PURE__*/_jsx(TableCell,{children:doorNo}),/*#__PURE__*/_jsx(TableCell,{children:mask}),/*#__PURE__*/_jsx(TableCell,{children:pictureURL&&/*#__PURE__*/_jsx(\"img\",{src:pictureURL,alt:\"Foto Acceso\",width:60,style:{borderRadius:\"4px\"}})})]},idx);})})]})]})]});}// Componente que muestra la info del evento\nfunction TarjetaEvento(_ref){let{evento,formatearFechaHora}=_ref;const alert=evento.EventNotificationAlert;const ace=alert.AccessControllerEvent;const{fecha,hora}=formatearFechaHora(alert.dateTime);const empNo=ace.employeeNo;const doorNo=ace.doorNo||\"?\";const mask=ace.mask||\"desconocido\";const pictureURL=ace.pictureURL?`${API_URL}/hikvision/pic-proxy?path=${encodeURIComponent(ace.pictureURL)}`:null;return/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\"},children:[/*#__PURE__*/_jsxs(CardContent,{sx:{flex:\"1 1 auto\"},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:fecha}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",gutterBottom:true,children:hora}),/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Empleado:\"}),\" \",empNo]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Puerta:\"}),\" \",doorNo]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"M\\xE1scara:\"}),\" \",mask]})]}),pictureURL&&/*#__PURE__*/_jsx(CardMedia,{component:\"img\",sx:{width:180},image:pictureURL,alt:\"Foto Acceso\"})]});}export default HikvisionEvents;","map":{"version":3,"names":["React","useState","useEffect","useRef","Box","Typography","Card","CardContent","CardMedia","Table","TableHead","TableRow","TableCell","TableBody","Paper","API_URL","jsx","_jsx","jsxs","_jsxs","HikvisionEvents","sseStatus","setSseStatus","latestEvent","setLatestEvent","historyEvents","setHistoryEvents","timeoutRef","es","EventSource","onopen","onerror","err","console","error","onmessage","e","parsed","JSON","parse","data","detail","info","chunk","eventObj","extraerJsonDelChunk","alert","EventNotificationAlert","ace","AccessControllerEvent","empNo","employeeNo","current","clearTimeout","setTimeout","prev","newArr","length","pop","ex","warn","close","chunkStr","sep","idx","indexOf","rawJson","substring","trim","replace","formatearFechaHora","isoString","fecha","hora","dateObj","Date","toLocaleDateString","day","month","year","toLocaleTimeString","hour","minute","second","sx","p","children","variant","color","gutterBottom","mb","display","justifyContent","width","TarjetaEvento","evento","alignItems","height","map","evt","dateTime","doorNo","mask","pictureURL","encodeURIComponent","src","alt","style","borderRadius","_ref","flex","component","image"],"sources":["/Users/fernandovargas/Documents/GitHub/gymfront/src/pages/superadmin/Usuarios.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport {\n  Box,\n  Typography,\n  Card,\n  CardContent,\n  CardMedia,\n  Table,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableBody,\n  Paper,\n} from \"@mui/material\";\nimport { API_URL } from \"../../services/api\"; // Ajusta tu import\n\nfunction HikvisionEvents() {\n  const [sseStatus, setSseStatus] = useState(\"Conectando SSE...\");\n  const [latestEvent, setLatestEvent] = useState(null); // Evento actual en la tarjeta\n  const [historyEvents, setHistoryEvents] = useState([]); // Array de eventos (máx 30)\n\n  // Referencia para almacenar un posible timeout (si llega otro evento antes de 1s)\n  const timeoutRef = useRef(null);\n\n  useEffect(() => {\n    const es = new EventSource(`${API_URL}/hikvision/events`);\n\n    es.onopen = () => {\n      setSseStatus(\"Conexión SSE establecida\");\n    };\n\n    es.onerror = (err) => {\n      console.error(\"Error SSE:\", err);\n      setSseStatus(\"Error SSE (ver consola)\");\n    };\n\n    es.onmessage = (e) => {\n      try {\n        const parsed = JSON.parse(e.data);\n\n        if (parsed.error) {\n          console.error(\"Error SSE:\", parsed);\n          setSseStatus(`Error SSE: ${parsed.detail || \"\"}`);\n          return;\n        }\n        if (parsed.info) {\n          setSseStatus(parsed.info);\n          return;\n        }\n        if (parsed.chunk) {\n          const eventObj = extraerJsonDelChunk(parsed.chunk);\n          if (!eventObj) return;\n\n          const alert = eventObj.EventNotificationAlert;\n          const ace = alert?.AccessControllerEvent;\n          if (!ace) return;\n\n          const empNo = ace.employeeNo || \"N/A\";\n          if (empNo === \"N/A\") return; // ignorar\n\n          // Cancelar timeout anterior, si existía\n          if (timeoutRef.current) {\n            clearTimeout(timeoutRef.current);\n          }\n\n          // Asignar este evento a la tarjeta\n          setLatestEvent(eventObj);\n\n          // Después de 1 segundo, moverlo al historial\n          timeoutRef.current = setTimeout(() => {\n            setHistoryEvents((prev) => {\n              const newArr = [eventObj, ...prev];\n              // Limitar a 30\n              if (newArr.length > 30) newArr.pop();\n              return newArr;\n            });\n            setLatestEvent(null); // limpiar la tarjeta\n          }, 1000);\n        }\n      } catch (ex) {\n        console.warn(\"No se pudo parsear SSE data:\", ex);\n      }\n    };\n\n    return () => {\n      es.close();\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n    };\n  }, []);\n\n  function extraerJsonDelChunk(chunkStr) {\n    const sep = \"\\r\\n\\r\\n\";\n    const idx = chunkStr.indexOf(sep);\n    if (idx === -1) return null;\n\n    let rawJson = chunkStr.substring(idx + sep.length).trim();\n    rawJson = rawJson.replace(/\\r?\\n$/, \"\");\n\n    try {\n      return JSON.parse(rawJson);\n    } catch {\n      return null;\n    }\n  }\n\n  // Función para formatear la fecha/hora: \"dd/mm/yyyy\" y \"hh:mm:ss\"\n  function formatearFechaHora(isoString) {\n    if (!isoString) return { fecha: \"(sin fecha)\", hora: \"\" };\n    const dateObj = new Date(isoString);\n\n    const fecha = dateObj.toLocaleDateString(\"es-MX\", {\n      day: \"2-digit\",\n      month: \"2-digit\",\n      year: \"numeric\",\n    });\n    const hora = dateObj.toLocaleTimeString(\"es-MX\", {\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n      second: \"2-digit\",\n    });\n    return { fecha, hora };\n  }\n\n  return (\n    <Box sx={{ p: 3 }}>\n      <Typography variant=\"h4\" color=\"primary\" gutterBottom>\n        Eventos Hikvision\n      </Typography>\n      <Typography variant=\"body2\" sx={{ mb: 2 }}>\n        Estado SSE: {sseStatus}\n      </Typography>\n\n      {/* Tarjeta siempre visible */}\n      <Box\n        sx={{\n          display: \"flex\",\n          justifyContent: \"center\",\n          mb: 4,\n        }}\n      >\n        <Card sx={{ width: 600 }}>\n          {latestEvent ? (\n            <TarjetaEvento\n              evento={latestEvent}\n              formatearFechaHora={formatearFechaHora}\n            />\n          ) : (\n            <CardContent\n              sx={{\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                height: 150,\n              }}\n            >\n              <Typography variant=\"body1\" color=\"text.secondary\">\n                No hay evento en curso\n              </Typography>\n            </CardContent>\n          )}\n        </Card>\n      </Box>\n\n      {/* Historial (tabla) */}\n      {historyEvents.length > 0 && (\n        <Paper sx={{ p: 2 }}>\n          <Typography variant=\"h5\" gutterBottom>\n            Historial de Eventos (máx 30)\n          </Typography>\n          <Table>\n            <TableHead>\n              <TableRow>\n                <TableCell>Fecha</TableCell>\n                <TableCell>Hora</TableCell>\n                <TableCell>Empleado</TableCell>\n                <TableCell>Puerta</TableCell>\n                <TableCell>Máscara</TableCell>\n                <TableCell>Foto</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {historyEvents.map((evt, idx) => {\n                const alert = evt.EventNotificationAlert;\n                const ace = alert.AccessControllerEvent;\n                const { fecha, hora } = formatearFechaHora(alert.dateTime);\n                const empNo = ace.employeeNo;\n                const doorNo = ace.doorNo || \"?\";\n                const mask = ace.mask || \"desconocido\";\n                const pictureURL = ace.pictureURL\n                  ? `${API_URL}/hikvision/pic-proxy?path=${encodeURIComponent(\n                      ace.pictureURL\n                    )}`\n                  : null;\n\n                return (\n                  <TableRow key={idx}>\n                    <TableCell>{fecha}</TableCell>\n                    <TableCell>{hora}</TableCell>\n                    <TableCell>{empNo}</TableCell>\n                    <TableCell>{doorNo}</TableCell>\n                    <TableCell>{mask}</TableCell>\n                    <TableCell>\n                      {pictureURL && (\n                        <img\n                          src={pictureURL}\n                          alt=\"Foto Acceso\"\n                          width={60}\n                          style={{ borderRadius: \"4px\" }}\n                        />\n                      )}\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n        </Paper>\n      )}\n    </Box>\n  );\n}\n\n// Componente que muestra la info del evento\nfunction TarjetaEvento({ evento, formatearFechaHora }) {\n  const alert = evento.EventNotificationAlert;\n  const ace = alert.AccessControllerEvent;\n  const { fecha, hora } = formatearFechaHora(alert.dateTime);\n  const empNo = ace.employeeNo;\n  const doorNo = ace.doorNo || \"?\";\n  const mask = ace.mask || \"desconocido\";\n  const pictureURL = ace.pictureURL\n    ? `${API_URL}/hikvision/pic-proxy?path=${encodeURIComponent(ace.pictureURL)}`\n    : null;\n\n  return (\n    <Box sx={{ display: \"flex\" }}>\n      {/* Info a la izquierda */}\n      <CardContent sx={{ flex: \"1 1 auto\" }}>\n        <Typography variant=\"h6\" gutterBottom>\n          {fecha}\n        </Typography>\n        <Typography variant=\"body1\" gutterBottom>\n          {hora}\n        </Typography>\n        <Typography variant=\"body1\">\n          <strong>Empleado:</strong> {empNo}\n        </Typography>\n        <Typography variant=\"body1\">\n          <strong>Puerta:</strong> {doorNo}\n        </Typography>\n        <Typography variant=\"body1\">\n          <strong>Máscara:</strong> {mask}\n        </Typography>\n      </CardContent>\n\n      {/* Foto a la derecha */}\n      {pictureURL && (\n        <CardMedia\n          component=\"img\"\n          sx={{ width: 180 }}\n          image={pictureURL}\n          alt=\"Foto Acceso\"\n        />\n      )}\n    </Box>\n  );\n}\n\nexport default HikvisionEvents;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}